<html lang="en">
    <head>
        <script src="https://cdn.observableusercontent.com/npm/d3@7.6.1/dist/d3.min.js"></script>
        <script src="https://cdn.observableusercontent.com/npm/marked@0.3.12/marked.min.js"></script>
        <script src="https://cdn.observableusercontent.com/npm/htl@0.3.1/dist/htl.min.js"></script>
        <script src="https://cdn.observableusercontent.com/npm/@observablehq/highlight.js@2.0.0/highlight.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
        <script src="data.js" charset="utf-8"></script>
        <script src="chart.js" charset="utf-8"></script>
        <link rel="stylesheet" href="index.css">
    </head>

    <body>
        <svg id="visualisation"></svg>

        <script language="JavaScript">
            $('svg#visualisation').width($(window.top).width());
            $('svg#visualisation').height($(window.top).height());

            chart = ForceGraph(miserables, {
                nodeGroup: d => d.group,
                //nodeStrength: -200,                       //  This could be a number.
                                                            //  Negative value means repulsion, positive - attraction.
                nodeTitle: d => `${d.id}\n${d.group}`,
                //linkStroke,                               //  Function or value providing stroke value.
                linkStrokeWidth: l => Math.sqrt(l.value),
                width: $(window.top).width(),
                height: $(window.top).height(),
                invalidation: null // a promise to stop the simulation when the cell is re-run
            });

            document.getElementById('visualisation').appendChild(chart);
        </script>
    </body>
</html>